
---
import Layout from '../layouts/Layout.astro';
import ProjectCard from '../components/ProjectCard.astro';
import ProjectFilter from '../components/ProjectFilter.astro';
import { getCollection } from 'astro:content';
import { sortProjectsHome } from '../utils/projectSort';

const allProjects = await getCollection('projects');
const projects = sortProjectsHome(allProjects);
---

<Layout>
    <div class="space-y-8">
        <header class="pb-6 flex flex-col items-center gap-4">
           <h1 class="text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-600 bg-clip-text text-transparent">
               Portfolio
           </h1>
           
           <!-- Filter moved here or we can keep it inside ProjectFilter component which has its own centered container -->
        </header>

        <ProjectFilter />

        <div id="projects-grid" class="grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6">
          {projects.map(project => (
            <ProjectCard project={project} />
          ))}
        </div>
    </div>
</Layout>
